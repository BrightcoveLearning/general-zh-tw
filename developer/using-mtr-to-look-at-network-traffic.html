---
title: '使用 MTR（我的跟踪路由）'
description: ' MTR 是一個命令行工具，結合了標準的能力<code translate="No">traceroute</code>和<code translate="No">ping</code>命令來幫助調試網絡問題。'
parent: Developers
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.summary }}</summary>
  <section class="bcls-section">
    <h2 id="Introduction">簡介</h2>
    <p>港鐵是診斷網絡相關問題的常用工具。它結合了<code translate="No">ping</code>和<code translate="No">traceroute</code>命令。提交港鐵報告可協助 Brightcove 支援在某些情況下解決問題。</p>
    <p>看<a href="https://xneelo.co.za/help-centre/website/how-to-run-an-mtr/">如何運行地鐵</a>有關安裝MTR的信息。</p>
    <aside class="bcls-aside bcls-aside--information language-editable">請注意，Homebrew 現在將 MTR 安裝到非路徑目錄中（至少在 Mac 上）。為了能夠運行 MTR，您需要在終端中執行以下操作：
<pre class="line-numbers"><code class="language-bash" translate="No">cd /usr/local/Cellar/mtr/
# to get the version number - in this case 0.94 - and cd into that directory's /sbin directory
ls
cd 0.94/sbin
# now copy mtr to the path
sudo cp mtr /usr/local/bin
</code></pre>
      <p>現在你將能夠運行<code translate="No">sudo mtr</code>（使用<code translate="No">sudo</code>是必須的）</p>
    </aside>
    <p>以下步驟將引導您完成 Wireshark 的基本安裝和使用。</p>
  </section>
  <section class="bcls-section">
    <h2 id="using_wireshark">使用港鐵</h2>
    <p>以下說明假設您在 Mac OS 上執行 MTR 作為命令列應用程式。如果運行的是WinMTR，則唯一的區別是您只需輸入要分析的域或IP地址即可運行<code translate="No">mtr {domain or IP address}</code>。</p>
    <ol class="bcls-tasklist">
      <li>啟動終端機</li>
      <li>
        輸入下列指令：
        <pre class="line-numbers"><code class="language-bash" translate="No">sudo mtr players.brightcove.net</code></pre>
      </li>
      <li>
        您應該會看到如下所示的顯示器：
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/developer/mtr-display.png" alt="MTR Display">
          <figcaption class="bcls-caption--image">港鐵顯示</figcaption>
        </figure>
      </li>
      <li>
        注意數據顯示上方列出的命令，或按 <samp translate="No">H</samp> 查看所有可用命令：
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/developer/mtr-commands.png" alt="MTR Commands">
          <figcaption class="bcls-caption--image">地鐵指令</figcaption>
        </figure>
      </li>
      <li>
        從終端複製並粘貼您想要的信息：
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/developer/mtr-data.png" alt="Copy MTR Data">
          <figcaption class="bcls-caption--image">複製地鐵數據</figcaption>
        </figure>
      </li>
      <li>你可以按 <samp translate="No">q</samp> 隨時停止地鐵。</li>
    </ol>
  </section>
  <section class="bcls-section">
    <h2 id="Using_mtr_with_Live">將 MTR 與 Live 結合使用</h2>
    <p>使用帶有實時流的 MTR 類似於使用它來分析 VOD，但略有不同，因為 MTR 發送 ICMP 請求數據包，而大多數互聯網設備會降低基於 ICMP 的跟踪請求的優先級，並有意限制 ICMP 流量，這可能會造成數據包丟失的錯覺。</p>
    <p>此外，您需要在 RTMP URL 和播放 URL 上運行 MTR，因為輸入和輸出中都可能出現問題。</p>
    <p>要正確解決連接問題，必須運行基於 TCP 的跟踪。下面是在 Mac 用戶的 RMTP URL 上運行的示例。</p>
    <pre><code class="language-bash" translate="No">sudo mtr -n -T -c 200 <span class="bc-highlight">1a244fa8f08a464e869695dd01c890d6.sep.bcovlive.io</span> --report</code></pre>

    <p>突出顯示的部分是從<strong>端點網址</strong>顯示在 Live 模塊中：</p>
    <figure class="bcls-figure">
      <img class="bcls-image" src="/assets/images/developer/live-domain-for-mtr.png" alt="Playback URL">
      <figcaption class="bcls-caption--image">播放網址</figcaption>
    </figure>

    <h3>樣本輸出</h3>
    <figure class="bcls-figure">
      <img class="bcls-image" src="/assets/images/developer/mtr-sample-response.png" alt="Sample MTR Output for Live">
      <figcaption class="bcls-caption--image">Live 的示例 MTR 命令和輸出</figcaption>
    </figure>
  </section>
</article>